(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{29:function(e,t,a){},32:function(e,t,a){e.exports=a.p+"static/media/undraw_online_payments_re_y8f2.6565bfeb.svg"},38:function(e,t,a){e.exports=a(57)},43:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),i=a(22),o=(a(43),a(11)),u=a(2),s=a(15),d=a(9),m=a(10),h=a(8),p=a(13),E=a(12),b=a(3),f=a(36),v=function(){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()}))},j=(a(50),a(32)),O=a.n(j),g=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={email:"",password:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(m.a)(a,[{key:"onSubmit",value:function(){var e=this.props,t=e.history;(0,e.dispatchValue)(this.state.email),t.push("/carteira")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(s.a)({},a,n))}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login-form"},r.a.createElement("p",null,"TRYBEWALLET"),r.a.createElement("input",{type:"text",name:"email",id:"email",value:t,onChange:this.handleChange,"data-testid":"email-input",placeholder:"email"}),r.a.createElement("input",{type:"password",name:"password",id:"password",value:a,onChange:this.handleChange,"data-testid":"password-input",placeholder:"password"}),r.a.createElement("button",{type:"button",disabled:a.length<6||!t.match(/\S+@\S+\.\S+/),onClick:this.onSubmit},"Entrar")),r.a.createElement("div",{className:"login-image"},r.a.createElement("img",{src:O.a,alt:"login ilustration"})))}}]),a}(r.a.Component),y=Object(o.b)(null,(function(e){return{dispatchValue:function(t){return e({type:"USER_LOGIN",payload:t})}}}))(g),C=a(24),x=a.n(C),k=a(33),w=(a(29),function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={formInfo:{id:0,value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",exchangeRates:{}},currencies:[]},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleClick=e.handleClick.bind(Object(h.a)(e)),e.handleSelect=e.handleSelect.bind(Object(h.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.handleSelect()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.formInfo;this.setState({formInfo:Object(b.a)(Object(b.a)({},r),{},Object(s.a)({},a,n))})}},{key:"handleClick",value:function(){var e=this.props.addValue,t=this.state.formInfo,a=t.id;e(t),this.setState({formInfo:Object(b.a)(Object(b.a)({},t),{},{id:a+1,value:0,description:""})})}},{key:"handleSelect",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,a=Object.keys(t).filter((function(e){return"USDT"!==e})),this.setState({currencies:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.formInfo,a=e.currencies,n=t.value,l=t.description,c=t.currency;return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"value"},"Valor:",r.a.createElement("input",{id:"value",type:"number",placeholder:"Valor gasto",name:"value",value:n,"data-testid":"value-input",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o:",r.a.createElement("input",{id:"description",type:"text",placeholder:"Descri\xe7\xe3o do gasto",name:"description",value:l,"data-testid":"description-input",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"currency-input"},"Moeda:",r.a.createElement("select",{id:"currency-input",name:"currency","data-testid":"currency-input",onChange:this.handleChange,value:c},a.map((function(e,t){return r.a.createElement("option",{"data-testid":e,key:t},e)})))),r.a.createElement("label",{htmlFor:"method"},"M\xe9todo de pagamento:",r.a.createElement("select",{id:"method",name:"method","data-testid":"method-input",onChange:this.handleChange},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag"},"Tipo de gasto:",r.a.createElement("select",{id:"tag",name:"tag","data-testid":"tag-input",onChange:this.handleChange},r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade"))),r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"form-btn"},"Adicionar despesa")))}}]),a}(n.Component)),S=Object(o.b)((function(e){return{currencies:e.wallet.currencies,email:e.user.email}}),(function(e){return{addValue:function(t){return e(function(e){return function(t){return v().then((function(a){var n=Object.entries(a).reduce((function(e,t){var a=Object(f.a)(t,2),n=a[0],r=a[1];return Object(b.a)(Object(b.a)({},e),{},Object(s.a)({},n,r))}),{});t({type:"ADD_EXPENSE",payload:Object(b.a)(Object(b.a)({},e),{},{exchangeRates:n})})}))}}(t))}}}))(w),N=(a(52),function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).sumExpenses=e.sumExpenses.bind(Object(h.a)(e)),e}return Object(m.a)(a,[{key:"sumExpenses",value:function(){return this.props.expenses.reduce((function(e,t){return e+parseFloat(t.exchangeRates[t.currency].ask)*parseFloat(t.value)}),0).toFixed(2)}},{key:"render",value:function(){var e=this.props.email;return r.a.createElement("header",{className:"header-container"},r.a.createElement("p",{className:"header-title"},"TRYBEWALLET"),r.a.createElement("div",{className:"header-user-info"},r.a.createElement("p",{"data-testid":"email-field"},e),r.a.createElement("p",{"data-testid":"total-field"},this.sumExpenses()),r.a.createElement("p",{"data-testid":"header-currency-field"},"BRL")))}}]),a}(n.Component));N.defaultProps={expenses:[],email:""};var D=Object(o.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(N),F=(a(53),function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.expenses,a=e.deleteItem;return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Excluir")),t.map((function(e){var t=e.currency,n=e.description,l=e.exchangeRates,c=e.id,i=e.method,o=e.tag,u=e.value,s=l[t].name.split("/")[0],d=l[t].ask,m=parseFloat(u)*parseFloat(d);return r.a.createElement("tr",{key:c,id:c},r.a.createElement("td",null,n),r.a.createElement("td",null,o),r.a.createElement("td",null,i),r.a.createElement("td",null,u),r.a.createElement("td",null,s),r.a.createElement("td",null,parseFloat(d).toFixed(2)),r.a.createElement("td",null,m.toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button","data-testid":"delete-btn",onClick:function(){a(c)}},r.a.createElement("i",{className:"bi bi-trash"}))))})))))}}]),a}(n.Component));F.defaultProps={expenses:[]};var R=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{deleteItem:function(t){return e(function(e){return{type:"DELETE_EXPENSE",id:e}}(t))}}}))(F),T=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement("div",{className:"form-table-container"},r.a.createElement(S,null),r.a.createElement(R,null)))}}]),a}(r.a.Component);var I=function(){return r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:y}),r.a.createElement(u.a,{path:"/carteira",component:T}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(14),L=a(34),A=a(35),V={user:{email:""}};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return Object(b.a)(Object(b.a)({},e),{},{email:t.payload});default:return e}},P=a(37),B={currencies:[],expenses:[],editExpense:[]};var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return Object(b.a)(Object(b.a)({},e),{},{expenses:[].concat(Object(P.a)(e.expenses),[t.payload])});case"ADD_CURRENCES":return Object(b.a)(Object(b.a)({},e),{},{currencies:t.payload});case"DELETE_EXPENSE":return Object(b.a)(Object(b.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.id}))});default:return e}},W=Object(_.combineReducers)({user:M,wallet:U}),X=Object(_.createStore)(W,Object(L.composeWithDevTools)(Object(_.applyMiddleware)(A.a)));c.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:X},r.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.484cc81e.chunk.js.map